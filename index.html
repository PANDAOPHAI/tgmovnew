<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TG Mov</title>
  <link rel="stylesheet" href="st.css" />
</head>
<body>

  <!-- Background Video -->
  <video autoplay muted loop playsinline webkit-playsinline id="bg-video">
    <source src="theboys.webm" type="video/webm">
    Your browser does not support HTML5 video.
  </video>

  <div class="overlay"></div>

  <!-- HEADER -->
  <header>
    <a href="index.html"><div class="logo">TG Mov üé¨</div></a>

    <nav>
      <a href="#">Home</a>
      <a href="#">Series</a>
      <a href="#">Movies</a>
      <a href="#">Kids</a>
    </nav>

    <!-- ‚úÖ Right Side Controls -->
    <div class="header-right">
      <!-- SEARCH BAR + RESULTS DROPDOWN -->
      <div class="search-row header-search">
        <!-- üîç Icon (sirf mobile pe dikhana hai) -->
        <button class="search-icon-btn" id="searchToggle" aria-label="Search"></button>

        <!-- Actual input -->
        <input
          type="text"
          id="searchInput"
          placeholder="Search movies..."
          autocomplete="off"
        />
        <div id="search-results" class="search-results"></div>
      </div>

      <!-- PROFILE -->
      <div class="profile">
        <img src="https://i.pinimg.com/736x/56/37/12/563712bd3ce48f91d73f7bcef452c400.jpg" alt="User">
      </div>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="content">

    <!-- HERO -->
    <div class="hero">
      <h1>The Boys</h1>
      <p>
        It's the powerless against the super powerful as The Boys embark on a heroic
        quest to expose the truth about ‚ÄúThe Seven,‚Äù and their formidable Vought backing.
      </p>
      <div class="tags">
        <span class="tag">Action</span>
        <span class="tag">2022</span>
        <span class="tag">IMDB 9.3‚≠ê</span>
      </div>
      <div class="buttons">
        <a href="series.html?id=theboys">
          <button class="watch">‚ñ∂ Watch</button>
        </a>
        <button class="download"
          onclick="document.getElementById('errorBox').style.display='block'">
          ‚¨á Download
        </button>
      </div>

      <div id="errorBox"
        style="display:none;background:#ff4d4d;color:#fff;padding:15px;margin-top:15px;border-radius:8px;position:relative;">
        <span style="position:absolute;top:5px;right:5px;cursor:pointer;font-weight:bold;"
          onclick="document.getElementById('errorBox').style.display='none'">‚ùå</span>
        Download not available right now.
      </div>
    </div>

    <!-- ‚úÖ POPULAR (DYNAMIC) -->
    <section class="popular">
      <h2>Popular</h2>
      <div id="popular-list" class="movie-slider"></div>
    </section>

    <!-- ‚úÖ TOP RATED (DYNAMIC) -->
    <section class="top-rated">
      <h2>Top Rated</h2>
      <div id="top-rated-list" class="movie-slider"></div>
    </section>
    
    <!-- ‚úÖ Anime (DYNAMIC) -->
    <section class="anime">
      <h2>Anime / Animation</h2>
      <div id="anime-list" class="movie-slider"></div>
    </section>

    <!-- ‚úÖ ALL MOVIES (DYNAMIC GRID) -->
    <section class="all-movies" style="margin-top:30px;">
      <h2>All Movies</h2>
      <div id="movie-list" class="movies-grid"></div>
    </section>

  </main>

  <!-- JS FILES -->
  <script src="movies-data.js"></script>
  <script src="movies-list.js"></script>

  <!-- ‚úÖ Search toggle + BG video autoplay (UNIQUE variable names) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // mobile search toggle
      const tgMovSearchToggleBtn = document.getElementById('searchToggle');
      const tgMovHeaderSearchBox = document.querySelector('.header-search');
      const tgMovSearchInput     = document.getElementById('searchInput');

      if (tgMovSearchToggleBtn && tgMovHeaderSearchBox && tgMovSearchInput) {
        tgMovSearchToggleBtn.addEventListener('click', function (e) {
          e.preventDefault();
          tgMovHeaderSearchBox.classList.toggle('active');
          if (tgMovHeaderSearchBox.classList.contains('active')) {
            setTimeout(function () {
              tgMovSearchInput.focus();
            }, 50);
          }
        });

        // bahar click kare to band
        document.addEventListener('click', function (e) {
          if (!tgMovHeaderSearchBox.contains(e.target)) {
            tgMovHeaderSearchBox.classList.remove('active');
          }
        });
      }

      // background video autoplay helper (mobile ke liye)
      const bgVideo = document.getElementById('bg-video');
      if (bgVideo) {
        bgVideo.play().catch(function () {
          console.log('Autoplay blocked by browser');
        });
      }
    });
  </script>

</body>
</html>

